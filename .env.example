# AI Inference Platform Configuration
# Generated by: scripts/update-kilocode-settings.sh
# Version: 1.0.0
#
# This is an example configuration file showing all available settings.
# To generate your actual configuration, run:
#   ./scripts/update-kilocode-settings.sh

# ==============================================================================
# AZURE CONFIGURATION
# ==============================================================================

# Azure Key Vault name for secrets management
KEY_VAULT_NAME=your-keyvault-name

# Azure Cosmos DB configuration for caching
COSMOS_DB_ENDPOINT=https://your-cosmosdb.documents.azure.com:443/
COSMOS_DB_DATABASE=inference-cache
COSMOS_DB_CONTAINER=responses

# ==============================================================================
# API CONFIGURATION
# ==============================================================================

# API request timeout in seconds
API_TIMEOUT=120

# Default maximum tokens for completions
MAX_TOKENS_DEFAULT=256

# Maximum allowed tokens for completions
MAX_TOKENS_LIMIT=4096

# ==============================================================================
# CACHE CONFIGURATION
# ==============================================================================

# Cache time-to-live in seconds (3600 = 1 hour)
CACHE_TTL=3600

# Target cache hit rate (0.40 = 40%)
CACHE_HIT_TARGET=0.40

# ==============================================================================
# MODEL CONFIGURATION
# ==============================================================================

# Enabled models (comma-separated list)
MODELS_ENABLED=mixtral-8x7b,llama-3-70b,phi-3-mini

# Model details are defined in src/models_list/main.py and src/api_orchestrator/main.py:
# - mixtral-8x7b: 32K context, $0.002/1K tokens, priority 1
# - llama-3-70b: 8K context, $0.003/1K tokens, priority 2
# - phi-3-mini: 4K context, $0.0005/1K tokens, priority 0

# ==============================================================================
# CAPABILITY FLAGS
# ==============================================================================

# Enable streaming responses
STREAMING_ENABLED=true

# Enable response caching
CACHING_ENABLED=true

# Enable health check endpoints
HEALTH_CHECKS_ENABLED=true

# Enable auto-scaling
AUTO_SCALING_ENABLED=true

# Enable spot instance failover
FAILOVER_ENABLED=true

# Enable rate limiting
RATE_LIMITING_ENABLED=true

# ==============================================================================
# AUTO-SCALING CONFIGURATION
# ==============================================================================

# Minimum number of instances (0 = scale to zero)
AUTO_SCALE_MIN=0

# Maximum number of instances
AUTO_SCALE_MAX=20

# Instance priority (spot = use spot instances for cost savings)
SPOT_INSTANCE_PRIORITY=spot

# ==============================================================================
# HEALTH CHECK CONFIGURATION
# ==============================================================================

# Health check interval in seconds
HEALTH_CHECK_INTERVAL=30

# Failover timeout in seconds
FAILOVER_TIMEOUT=30

# ==============================================================================
# INFERENCE SETTINGS
# ==============================================================================

# Default temperature for sampling (0.0 = deterministic, 2.0 = very random)
TEMPERATURE_DEFAULT=1.0
TEMPERATURE_MIN=0.0
TEMPERATURE_MAX=2.0

# Default top-p (nucleus) sampling parameter
TOP_P_DEFAULT=1.0

# Request timeout in seconds
REQUEST_TIMEOUT=120

# ==============================================================================
# ADDITIONAL NOTES
# ==============================================================================

# To update this configuration, run:
#   ./scripts/update-kilocode-settings.sh
#
# To verify configuration:
#   ./scripts/update-kilocode-settings.sh --verify-only
#
# To check service health:
#   ./scripts/update-kilocode-settings.sh --check-health http://localhost:7071/api/health/live
#
# For more information, see:
#   scripts/README-kilocode-settings.md
